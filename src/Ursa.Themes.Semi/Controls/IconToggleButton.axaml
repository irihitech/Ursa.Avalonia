<ResourceDictionary
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:u="https://irihi.tech/ursa">

    <ControlTheme x:Key="{x:Type u:IconToggleButton}" TargetType="u:IconToggleButton" BasedOn="{StaticResource BaseIconButton}">
        <Setter Property="Template" Value="{StaticResource IconButtonTemplate}" />

        <Style Selector="^:checked">
            <!-- Copy of IconButton.BaseSolidIconButton -->
            <Setter Property="FocusAdorner">
                <FocusAdornerTemplate>
                    <Border Theme="{DynamicResource AdornerLayerBorder}"
                        Classes="Solid" />
                </FocusAdornerTemplate>
            </Setter>
            <Setter Property="Foreground" Value="{DynamicResource ButtonSolidForeground}" />
            <Setter Property="Background" Value="{DynamicResource ButtonSolidPrimaryBackground}" />
            <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidPrimaryBorderBrush}" />

            <Style Selector="^:pointerover /template/ Border#PART_Background">
                <Setter Property="Background" Value="{DynamicResource ButtonSolidPrimaryPointeroverBackground}" />
                <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidPrimaryPointeroverBorderBrush}" />
            </Style>
            <Style Selector="^:pressed /template/ ContentPresenter#PART_ContentPresenter">
                <Setter Property="Foreground" Value="{DynamicResource ButtonSolidPrimaryPressedForeground}" />
            </Style>
            <Style Selector="^:pressed /template/ Border#PART_Background">
                <Setter Property="Background" Value="{DynamicResource ButtonSolidPrimaryPressedBackground}" />
                <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidPrimaryPressedBorderBrush}" />
            </Style>

            <Style Selector="^.Primary">
                <Style Selector="^ /template/ ContentPresenter#PART_ContentPresenter">
                    <Setter Property="Foreground" Value="{DynamicResource ButtonSolidForeground}" />
                </Style>
                <Style Selector="^ /template/ Border#PART_Background">
                    <Setter Property="Background" Value="{DynamicResource ButtonSolidPrimaryBackground}" />
                    <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidPrimaryBorderBrush}" />
                </Style>
                <Style Selector="^:pointerover /template/ Border#PART_Background">
                    <Setter Property="Background" Value="{DynamicResource ButtonSolidPrimaryPointeroverBackground}" />
                    <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidPrimaryPointeroverBorderBrush}" />
                </Style>
                <Style Selector="^:pressed /template/ ContentPresenter#PART_ContentPresenter">
                    <Setter Property="Foreground" Value="{DynamicResource ButtonSolidPrimaryPressedForeground}" />
                </Style>
                <Style Selector="^:pressed /template/ Border#PART_Background">
                    <Setter Property="Background" Value="{DynamicResource ButtonSolidPrimaryPressedBackground}" />
                    <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidPrimaryPressedBorderBrush}" />
                </Style>
            </Style>
            <Style Selector="^.Secondary">
                <Style Selector="^ /template/ ContentPresenter#PART_ContentPresenter">
                    <Setter Property="Foreground" Value="{DynamicResource ButtonSolidForeground}" />
                </Style>
                <Style Selector="^ /template/ Border#PART_Background">
                    <Setter Property="Background" Value="{DynamicResource ButtonSolidSecondaryBackground}" />
                    <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidSecondaryBorderBrush}" />
                </Style>
                <Style Selector="^:pointerover /template/ Border#PART_Background">
                    <Setter Property="Background" Value="{DynamicResource ButtonSolidSecondaryPointeroverBackground}" />
                    <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidSecondaryPointeroverBorderBrush}" />
                </Style>
                <Style Selector="^:pressed /template/ Border#PART_Background">
                    <Setter Property="Background" Value="{DynamicResource ButtonSolidSecondaryPressedBackground}" />
                    <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidSecondaryPressedBorderBrush}" />
                </Style>
            </Style>
            <Style Selector="^.Tertiary">
                <Style Selector="^ /template/ ContentPresenter#PART_ContentPresenter">
                    <Setter Property="Foreground" Value="{DynamicResource ButtonSolidForeground}" />
                </Style>
                <Style Selector="^ /template/ Border#PART_Background">
                    <Setter Property="Background" Value="{DynamicResource ButtonSolidTertiaryBackground}" />
                    <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidTertiaryBorderBrush}" />
                </Style>
                <Style Selector="^:pointerover /template/ Border#PART_Background">
                    <Setter Property="Background" Value="{DynamicResource ButtonSolidTertiaryPointeroverBackground}" />
                    <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidTertiaryPointeroverBorderBrush}" />
                </Style>
                <Style Selector="^:pressed /template/ Border#PART_Background">
                    <Setter Property="Background" Value="{DynamicResource ButtonSolidTertiaryPressedBackground}" />
                    <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidTertiaryPressedBorderBrush}" />
                </Style>
            </Style>
            <Style Selector="^.Success">
                <Style Selector="^ /template/ ContentPresenter#PART_ContentPresenter">
                    <Setter Property="Foreground" Value="{DynamicResource ButtonSolidForeground}" />
                </Style>
                <Style Selector="^ /template/ Border#PART_Background">
                    <Setter Property="Background" Value="{DynamicResource ButtonSolidSuccessBackground}" />
                    <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidSuccessBorderBrush}" />
                </Style>
                <Style Selector="^:pointerover /template/ Border#PART_Background">
                    <Setter Property="Background" Value="{DynamicResource ButtonSolidSuccessPointeroverBackground}" />
                    <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidSuccessPointeroverBorderBrush}" />
                </Style>
                <Style Selector="^:pressed /template/ Border#PART_Background">
                    <Setter Property="Background" Value="{DynamicResource ButtonSolidSuccessPressedBackground}" />
                    <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidSuccessPressedBorderBrush}" />
                </Style>
            </Style>
            <Style Selector="^.Warning">
                <Style Selector="^ /template/ ContentPresenter#PART_ContentPresenter">
                    <Setter Property="Foreground" Value="{DynamicResource ButtonSolidForeground}" />
                </Style>
                <Style Selector="^ /template/ Border#PART_Background">
                    <Setter Property="Background" Value="{DynamicResource ButtonSolidWarningBackground}" />
                    <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidWarningBorderBrush}" />
                </Style>
                <Style Selector="^:pointerover /template/ Border#PART_Background">
                    <Setter Property="Background" Value="{DynamicResource ButtonSolidWarningPointeroverBackground}" />
                    <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidWarningPointeroverBorderBrush}" />
                </Style>
                <Style Selector="^:pressed /template/ Border#PART_Background">
                    <Setter Property="Background" Value="{DynamicResource ButtonSolidWarningPressedBackground}" />
                    <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidWarningPressedBorderBrush}" />
                </Style>
            </Style>
            <Style Selector="^.Danger">
                <Style Selector="^ /template/ ContentPresenter#PART_ContentPresenter">
                    <Setter Property="Foreground" Value="{DynamicResource ButtonSolidForeground}" />
                </Style>
                <Style Selector="^ /template/ Border#PART_Background">
                    <Setter Property="Background" Value="{DynamicResource ButtonSolidDangerBackground}" />
                    <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidDangerBorderBrush}" />
                </Style>
                <Style Selector="^:pointerover /template/ Border#PART_Background">
                    <Setter Property="Background" Value="{DynamicResource ButtonSolidDangerPointeroverBackground}" />
                    <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidDangerPointeroverBorderBrush}" />
                </Style>
                <Style Selector="^:pressed /template/ Border#PART_Background">
                    <Setter Property="Background" Value="{DynamicResource ButtonSolidDangerPressedBackground}" />
                    <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidDangerPressedBorderBrush}" />
                </Style>
            </Style>

            <Style Selector="^.Colorful">
                <Style Selector="^.Primary">
                    <Style Selector="^ /template/ Border#PART_Background">
                        <Setter Property="Background" Value="{DynamicResource ButtonSolidColorfulPrimaryBackground}" />
                        <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidColorfulPrimaryBackground}" />
                    </Style>
                    <Style Selector="^:pointerover /template/ Border#PART_Background">
                        <Setter Property="Background" Value="{DynamicResource ButtonSolidColorfulPrimaryPointeroverBackground}" />
                        <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidColorfulPrimaryPointeroverBackground}" />
                    </Style>
                    <Style Selector="^:pressed /template/ Border#PART_Background">
                        <Setter Property="Background" Value="{DynamicResource ButtonSolidColorfulPrimaryPressedBackground}" />
                        <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidColorfulPrimaryPressedBackground}" />
                    </Style>
                </Style>
                <Style Selector="^.Tertiary">
                    <Style Selector="^ /template/ ContentPresenter#PART_ContentPresenter">
                        <Setter Property="Foreground" Value="{DynamicResource ButtonSolidColorfulTertiaryForeground}" />
                    </Style>
                    <Style Selector="^ /template/ Border#PART_Background">
                        <Setter Property="Background" Value="{DynamicResource ButtonSolidColorfulTertiaryBackground}" />
                        <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidColorfulTertiaryBackground}" />
                    </Style>
                    <Style Selector="^:pointerover /template/ Border#PART_Background">
                        <Setter Property="Background" Value="{DynamicResource ButtonSolidColorfulTertiaryPointeroverBackground}" />
                        <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidColorfulTertiaryPointeroverBackground}" />
                    </Style>
                    <Style Selector="^:pressed /template/ Border#PART_Background">
                        <Setter Property="Background" Value="{DynamicResource ButtonSolidColorfulTertiaryPressedBackground}" />
                        <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidColorfulTertiaryPressedBackground}" />
                    </Style>
                </Style>
            </Style>

            <Style Selector="^:disabled /template/ ContentPresenter#PART_ContentPresenter">
                <Setter Property="Foreground" Value="{DynamicResource ButtonSolidDisabledForeground}" />
            </Style>
            <Style Selector="^:disabled /template/ Border#PART_Background">
                <Setter Property="Background" Value="{DynamicResource ButtonSolidDisabledBackground}" />
                <Setter Property="BorderBrush" Value="{DynamicResource ButtonSolidDisabledBorderBrush}" />
            </Style>
        </Style>

        <Style Selector="^:indeterminate">
            <!-- Copy of IconButton.BaseOutlineIconButton; Update with resources from ToggleButton:indeterminate -->
            <Style Selector="^ /template/ Border#PART_Background">
                <Setter Property="Background" Value="{DynamicResource ButtonOutlineBackground}" />
                <Setter Property="BorderBrush" Value="{DynamicResource ToggleButtonPrimaryIndeterminateBorderBrush}" />
            </Style>
            <Style Selector="^:pointerover /template/ Border#PART_Background">
                <Setter Property="Background" Value="{DynamicResource ButtonOutlinePointeroverBackground}" />
                <Setter Property="BorderBrush" Value="{DynamicResource ToggleButtonPrimaryIndeterminateBorderBrush}" />
            </Style>
            <Style Selector="^:pressed /template/ Border#PART_Background">
                <Setter Property="Background" Value="{DynamicResource ButtonOutlinePressedBackground}" />
                <Setter Property="BorderBrush" Value="{DynamicResource ToggleButtonPrimaryIndeterminateBorderBrush}" />
            </Style>

            <Style Selector="^.Primary /template/ Border#PART_Background">
                <Setter Property="BorderBrush" Value="{DynamicResource ToggleButtonPrimaryIndeterminateBorderBrush}" />
            </Style>
            <Style Selector="^.Secondary /template/ Border#PART_Background">
                <Setter Property="BorderBrush" Value="{DynamicResource ToggleButtonSecondaryIndeterminateBorderBrush}" />
            </Style>
            <Style Selector="^.Tertiary /template/ Border#PART_Background">
                <Setter Property="BorderBrush" Value="{DynamicResource ToggleButtonTertiaryIndeterminateBorderBrush}" />
            </Style>
            <Style Selector="^.Success /template/ Border#PART_Background">
                <Setter Property="BorderBrush" Value="{DynamicResource ButtonOutlineSuccessBorderBrush}" />
            </Style>
            <Style Selector="^.Warning /template/ Border#PART_Background">
                <Setter Property="BorderBrush" Value="{DynamicResource ButtonOutlineWarningBorderBrush}" />
            </Style>
            <Style Selector="^.Danger /template/ Border#PART_Background">
                <Setter Property="BorderBrush" Value="{DynamicResource ButtonOutlineDangerBorderBrush}" />
            </Style>
            <Style Selector="^.Colorful">
                <Style Selector="^.Primary">
                    <Style Selector="^ /template/ ContentPresenter#PART_ContentPresenter">
                        <Setter Property="Foreground" Value="{DynamicResource ButtonOutlineColorfulPrimaryForeground}" />
                    </Style>
                    <Style Selector="^ /template/ Border#PART_Background">
                        <Setter Property="BorderBrush" Value="{DynamicResource ButtonOutlineColorfulPrimaryBorderBrush}" />
                    </Style>
                </Style>
            </Style>

            <Style Selector="^:disabled /template/ ContentPresenter#PART_ContentPresenter">
                <Setter Property="Foreground" Value="{DynamicResource ButtonDefaultDisabledForeground}" />
            </Style>
            <Style Selector="^:disabled /template/ Border#PART_Background">
                <Setter Property="Background" Value="{DynamicResource ButtonOutlineBackground}" />
                <Setter Property="BorderBrush" Value="{DynamicResource ButtonOutlineBorderBrush}" />
            </Style>
        </Style>
    </ControlTheme>

</ResourceDictionary>